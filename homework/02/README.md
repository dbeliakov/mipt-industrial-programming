# ДЗ 02 - Shell скрипты

## Условие

1. Скачать [архив с тестовыми логами](https://disk.yandex.ru/d/FzLMwuyjSLrbjg). Каждая строка файла лога - валидный json следующего вида:
```json
{
  "level": "INFO",
  "timestamp": 1630875600,
  "time": "06 Sep 21 00:00 MSK",
  "uid": 29,
  "ip": "77.48.210.87",
  "path": "/matrix",
  "status-code": 200
}
```
2. Найдите, сколько было заходов с IP-адреса `173.22.49.232`, и в какое время они случались.
3. С помощью `find` и `grep` напишите команду, которая выведет на экран все записи с кодом ответа 200 (содержащие `"status-code:"200`).
4. Напишите скрипт, который по переданной директории будет проходить по всем файлам логов и выводить uid самого активного пользователя за день (по количеству запросов).

## Решение

1. Скачано

2.1 Найти количество заходов с IP-адреса `173.22.49.232`
```bash
grep -r -h '"ip":"173.22.49.232"' data | wc -l
```

2.2 Найти когда случались заходы с IP-адреса `173.22.49.232`
```bash
grep -r -h '"ip":"173.22.49.232"' data | jq -r '.time' 
```

3. Вывести все записи с кодом 200 
```bash
grep -r -h '"status-code":200' data
```

4. Вывести uid самого активного пользователя за день
```bash
./most_active_user.sh
```
Алгоритм (для каждого файла-лога):

grep всех строк -> вырезаем ID -> сортируем и считаем уникальные -> сортируем и оставляем максимального